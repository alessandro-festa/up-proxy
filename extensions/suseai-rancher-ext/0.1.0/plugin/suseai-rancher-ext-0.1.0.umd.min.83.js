"use strict";(("undefined"!==typeof self?self:this)["webpackChunksuseai_rancher_ext_0_1_0"]=("undefined"!==typeof self?self:this)["webpackChunksuseai_rancher_ext_0_1_0"]||[]).push([[83],{3083:function(t,e,r){r.d(e,{Oh:function(){return n},e$:function(){return i},uE:function(){return o}});var a=r(4335),s=r(3894),c=r(4364);const o=a.A.create({baseURL:s.API_BASE_URLS.MCP_GATEWAY,timeout:(0,s.getApiConfig)().timeout,headers:{"Content-Type":"application/json"}}),i=t=>{const e=t.replace(/\/$/,"");o.defaults.baseURL=`${e}/api/v1`;const{updateApiBaseUrls:a}=r(3894);a(e)};class n{static async createAdapter(t){try{const e=await o.post(s.MCP_ENDPOINTS.ADAPTERS,t);return e.data}catch(e){throw c.error("Failed to create adapter:",e),e}}static async registerDiscoveredServer(t){try{const e=await o.post(s.MCP_ENDPOINTS.REGISTER_SERVER,{DiscoveredServerID:t});return{success:201===e.status,status:e.status}}catch(e){throw c.error("Failed to register discovered server:",e),e}}static async startScan(t){try{const e=await o.post(s.MCP_ENDPOINTS.DISCOVERY_SCAN,t);return e.data}catch(e){throw c.error("Failed to start scan:",e),e}}static async getScanStatus(t){try{const e=await o.get(`${s.MCP_ENDPOINTS.DISCOVERY_SCAN}/${t}`);return e.data}catch(e){throw c.error("Failed to get scan status:",e),e}}static async getScanResults(t){try{const e=await o.get(`${s.MCP_ENDPOINTS.DISCOVERY_SCAN}/${t}`);return e.data}catch(e){throw c.error("Failed to get scan results:",e),e}}static async getAdapters(){try{const t=await o.get(s.MCP_ENDPOINTS.ADAPTERS);return t.data||[]}catch(t){return c.error("Failed to fetch adapters:",t),[]}}static async getAdapter(t){try{const e=await o.get(s.MCP_ENDPOINTS.ADAPTER_DETAILS(t));return e.data}catch(e){return c.error("Failed to fetch adapter:",e),null}}static async deleteAdapter(t){try{await o.delete(s.MCP_ENDPOINTS.ADAPTER_DELETE(t))}catch(e){throw c.error("Failed to delete adapter:",e),e}}static async getMetrics(){try{const t=await o.get(s.MCP_ENDPOINTS.METRICS);return t.data}catch(t){throw c.error("Failed to get metrics:",t),t}}static async getRegistryServers(){try{const t=await o.get(s.MCP_ENDPOINTS.REGISTRY_BROWSE);return t.data.servers||[]}catch(t){return c.error("Failed to fetch registry servers:",t),[]}}static async getPublicRegistryServers(){try{const t=await o.get(s.MCP_ENDPOINTS.REGISTRY_PUBLIC);return t.data||[]}catch(t){return c.error("Failed to fetch public registry servers:",t),[]}}static async getPublicRegistryServersBySource(t){try{const e=await o.get(`${s.MCP_ENDPOINTS.REGISTRY_PUBLIC}?source=${t}`);return e.data||[]}catch(e){return c.error(`Failed to fetch registry servers for source ${t}:`,e),[]}}static async getRegistryServer(t){try{const e=await o.get(s.MCP_ENDPOINTS.REGISTRY_DETAILS(t));return e.data}catch(e){return c.error(`Failed to get registry server ${t}:`,e),null}}static async browseRegistryServers(){try{const t=await o.get(s.MCP_ENDPOINTS.REGISTRY_BROWSE);return t.data||[]}catch(t){return c.error("Failed to browse registry servers:",t),[]}}static async getAdapterDetails(t){try{const e=await o.get(s.MCP_ENDPOINTS.ADAPTER_DETAILS(t));return e.data}catch(e){return c.error("Failed to fetch adapter details:",e),null}}static async getAdapterStatus(t){try{const e=await o.get(s.MCP_ENDPOINTS.ADAPTER_STATUS(t));return e.data}catch(e){return c.error("Failed to fetch adapter status:",e),null}}static async updateAdapter(t,e){try{const r=await o.put(s.MCP_ENDPOINTS.ADAPTER_UPDATE(t),e);return r.data}catch(r){throw c.error("Failed to update adapter:",r),r}}static async listSessions(t){try{const e=await o.get(s.MCP_ENDPOINTS.SESSIONS(t));return e.data}catch(e){throw c.error("Failed to list sessions:",e),e}}static async getSessionDetails(t,e){try{const r=await o.get(s.MCP_ENDPOINTS.SESSION_DETAILS(t,e));return r.data}catch(r){throw c.error("Failed to get session details:",r),r}}static async createSession(t,e){try{const r=await o.post(s.MCP_ENDPOINTS.SESSION_CREATE(t),e);return r.data}catch(r){throw c.error("Failed to create session:",r),r}}static async deleteSession(t,e){try{await o.delete(s.MCP_ENDPOINTS.SESSION_DELETE(t,e))}catch(r){throw c.error("Failed to delete session:",r),r}}static async deleteAllSessions(t){try{await o.delete(s.MCP_ENDPOINTS.SESSION_DELETE_ALL(t))}catch(e){throw c.error("Failed to delete all sessions:",e),e}}static async listPluginServices(){try{const t=await o.get(s.MCP_ENDPOINTS.PLUGIN_SERVICES);return t.data}catch(t){throw c.error("Failed to list plugin services:",t),t}}static async registerPluginService(t){try{const e=await o.post(s.MCP_ENDPOINTS.PLUGIN_REGISTER,t);return e.data}catch(e){throw c.error("Failed to register plugin service:",e),e}}static async getServiceHealth(t){try{const e=await o.get(s.MCP_ENDPOINTS.PLUGIN_HEALTH(t));return e.data}catch(e){throw c.error("Failed to get service health:",e),e}}static async unregisterPluginService(t){try{await o.delete(s.MCP_ENDPOINTS.PLUGIN_UNREGISTER(t))}catch(e){throw c.error("Failed to unregister plugin service:",e),e}}static async sendMCPMessage(t,e,r){try{const a=await o.post(s.MCP_ENDPOINTS.ADAPTER_MESSAGES(t),r,{headers:{"mcp-session-id":e,"Content-Type":"application/json"}});return a.data}catch(a){throw c.error("Failed to send MCP message:",a),a}}static async establishMCPConnection(t,e){try{const r=await o.post(s.MCP_ENDPOINTS.ADAPTER_MCP(t),e,{headers:{Accept:"application/json, text/event-stream"}});return r.data}catch(r){throw c.error("Failed to establish MCP connection:",r),r}}static async startDiscoveryScan(t){try{const e=await o.post(s.MCP_ENDPOINTS.DISCOVERY_SCAN,t);return e.data}catch(e){if(c.error("Failed to start discovery scan:",e),"ERR_NETWORK"===e.code||e.message?.includes("CORS"))throw new Error("CORS error: Unable to connect to MCP Gateway. Please ensure the MCP Gateway server is running and configured to allow cross-origin requests from this domain.");throw e}}static async getDiscoveryServers(){try{c.log("Calling getDiscoveryServers with URL:",o.defaults.baseURL+s.MCP_ENDPOINTS.DISCOVERY_SERVERS);const t=await o.get(s.MCP_ENDPOINTS.DISCOVERY_SERVERS);c.log("getDiscoveryServers response:",t);const e=t.data;return c.log("getDiscoveryServers data:",e),e&&"object"===typeof e&&Array.isArray(e.servers)?e.servers:Array.isArray(e)?e:(c.warn("getDiscoveryServers returned unexpected format:",e),[])}catch(t){return c.error("Failed to get discovery servers:",t),[]}}static async getDiscoveryServerDetails(t){try{const e=await o.get(s.MCP_ENDPOINTS.DISCOVERY_SERVER_DETAILS(t));return e.data}catch(e){return c.error(`Failed to get discovery server ${t}:`,e),null}}static async registerDiscoveredServerEnhanced(t){try{const e=await o.post(s.MCP_ENDPOINTS.DISCOVERY_REGISTER,t);return e.data}catch(e){throw c.error("Failed to register discovered server:",e),e}}static async syncOfficialRegistry(){try{const t=await o.post(s.MCP_ENDPOINTS.REGISTRY_SYNC_OFFICIAL);return t.data}catch(t){throw c.error("Failed to sync official registry:",t),t}}static async uploadToRegistry(t){try{const e=await o.post(s.MCP_ENDPOINTS.REGISTRY_UPLOAD,t);return e.data}catch(e){throw c.error("Failed to upload to registry:",e),e}}static async bulkUploadToRegistry(t){try{const e=await o.post(s.MCP_ENDPOINTS.REGISTRY_UPLOAD_BULK,{servers:t});return e.data}catch(e){throw c.error("Failed to bulk upload to registry:",e),e}}static async uploadLocalMcp(t,e,r={}){try{const a=await o.post(s.MCP_ENDPOINTS.REGISTRY_UPLOAD_LOCAL_MCP,{name:t,path:e,...r});return a.data}catch(a){throw c.error(`Failed to upload local MCP ${t}:`,a),a}}static async getRegistryServerDetailsEnhanced(t){try{const e=await o.get(s.MCP_ENDPOINTS.REGISTRY_DETAILS(t));return e.data}catch(e){return c.error(`Failed to get registry server ${t}:`,e),null}}static async getDeploymentConfig(t){try{const e=await o.get(s.MCP_ENDPOINTS.DEPLOYMENT_CONFIG(t));return e.data}catch(e){throw c.error(`Failed to get deployment config for ${t}:`,e),e}}static async deployServer(t){try{const e=await o.post(s.MCP_ENDPOINTS.DEPLOYMENT_DEPLOY,t);return e.data}catch(e){throw c.error(`Failed to deploy server ${t.serverId}:`,e),e}}static async getAdapterMetrics(t){try{const e=await o.get(`${s.MCP_ENDPOINTS.ADAPTER_DETAILS(t)}/metrics`);return e.data}catch(e){throw c.error(`Failed to get metrics for adapter ${t}:`,e),e}}static async getSystemMetrics(){try{const t=await o.get(s.MCP_ENDPOINTS.METRICS);return t.data}catch(t){throw c.error("Failed to get system metrics:",t),t}}static async getPluginServicesByType(t){try{const e=await o.get(s.MCP_ENDPOINTS.PLUGIN_SERVICES_BY_TYPE(t));return e.data}catch(e){throw c.error(`Failed to get plugin services by type ${t}:`,e),e}}static async ping(){try{const t=o.defaults.baseURL?.replace("/api/v1","")||"http://localhost:8911",e=await a.A.get(`${t}/health`);return"healthy"===e.data?.status}catch(t){return c.error("Failed to ping MCP Gateway:",t),!1}}static async getApiDocs(){try{const t=await o.get(s.MCP_ENDPOINTS.DOCS);return t.data}catch(t){throw c.error("Failed to get API docs:",t),t}}static async getSwaggerSpec(){try{const t=await o.get(s.MCP_ENDPOINTS.SWAGGER_JSON);return t.data}catch(t){throw c.error("Failed to get Swagger spec:",t),t}}}},3894:function(t,e,r){r.r(e),r.d(e,{API_BASE_URLS:function(){return c},API_CONFIG:function(){return E},MCP_ENDPOINTS:function(){return i},SMART_AGENTS_ENDPOINTS:function(){return n},buildUrl:function(){return d},getApiBaseUrls:function(){return a},getApiConfig:function(){return S},getMcpUrl:function(){return T},getSmartAgentsUrl:function(){return _},updateApiBaseUrls:function(){return o}});const a=t=>({MCP_GATEWAY:t?`${t}/api/v1`:"http://localhost:8911/api/v1",SMART_AGENTS:"http://localhost:8910",RANCHER:window.location.origin});let s=a();const c=s,o=t=>(s=a(t),Object.assign(c,s),s),i={ADAPTERS:"/adapters",ADAPTER_DETAILS:t=>`/adapters/${t}`,ADAPTER_STATUS:t=>`/adapters/${t}/status`,ADAPTER_LOGS:t=>`/adapters/${t}/logs`,ADAPTER_UPDATE:t=>`/adapters/${t}`,ADAPTER_DELETE:t=>`/adapters/${t}`,SESSIONS:t=>`/adapters/${t}/sessions`,SESSION_DETAILS:(t,e)=>`/adapters/${t}/sessions/${e}`,SESSION_CREATE:t=>`/adapters/${t}/sessions`,SESSION_DELETE:(t,e)=>`/adapters/${t}/sessions/${e}`,SESSION_DELETE_ALL:t=>`/adapters/${t}/sessions`,ADAPTER_TOKEN:t=>`/adapters/${t}/token`,ADAPTER_TOKEN_REFRESH:t=>`/adapters/${t}/token/refresh`,ADAPTER_TOKEN_VALIDATE:t=>`/adapters/${t}/token/validate`,ADAPTER_CLIENT_TOKEN:t=>`/adapters/${t}/client-token`,ADAPTER_TEST_AUTH:t=>`/adapters/${t}/test-auth`,ADAPTER_VALIDATE_AUTH:t=>`/adapters/${t}/validate-auth`,ADAPTER_SSE:t=>`/adapters/${t}/sse`,ADAPTER_MESSAGES:t=>`/adapters/${t}/messages`,ADAPTER_MCP:t=>`/adapters/${t}/mcp`,ADAPTER_WEBSOCKET:t=>`/adapters/${t}/ws`,DISCOVERY_SCAN:"/discovery/scan",DISCOVERY_SERVERS:"/discovery/servers",DISCOVERY_SERVER_DETAILS:t=>`/discovery/servers/${t}`,DISCOVERY_REGISTER:"/discovery/register",SCAN_START:"/scan",SCAN_STATUS:t=>`/scan/${t}`,SERVERS:"/servers",REGISTER_SERVER:"/discovery/register",REGISTRY_BROWSE:"/registry/browse",REGISTRY_PUBLIC:"/registry/public",REGISTRY_SYNC_OFFICIAL:"/registry/sync/official",REGISTRY_UPLOAD:"/registry/upload",REGISTRY_UPLOAD_BULK:"/registry/upload/bulk",REGISTRY_UPLOAD_LOCAL_MCP:"/registry/upload/local-mcp",REGISTRY_DETAILS:t=>`/registry/${t}`,DEPLOYMENT_CONFIG:t=>`/deployment/config/${t}`,DEPLOYMENT_DEPLOY:"/deployment/deploy",PLUGIN_SERVICES:"/plugins/services",PLUGIN_REGISTER:"/plugins/register",PLUGIN_HEALTH:t=>`/plugins/services/${t}/health`,PLUGIN_UNREGISTER:t=>`/plugins/services/${t}`,PLUGIN_SERVICES_BY_TYPE:t=>`/plugins/services/type/${t}`,HEALTH:"/health",METRICS:"/metrics",DOCS:"/docs",SWAGGER_JSON:"/swagger/doc.json"},n={AGENTS:"/agents",AGENT_DETAILS:t=>`/agents/${t}`,AGENT_CREATE:"/agents",AGENT_UPDATE:t=>`/agents/${t}`,AGENT_DELETE:t=>`/agents/${t}`},E={DEFAULT_TIMEOUT:1e4,RETRY_ATTEMPTS:3,RETRY_DELAY:1e3,RATE_LIMITS:{MANAGEMENT:100,COMMUNICATION:1e3,HEALTH_CHECK:1/0},DEFAULT_HEADERS:{"Content-Type":"application/json",Accept:"application/json"},SSE_HEADERS:{Accept:"text/event-stream","Cache-Control":"no-cache"},WS_CONFIG:{protocols:["mcp-v1"],reconnectAttempts:5,reconnectDelay:2e3}},S=()=>{const t=!1;return{baseURL:c.MCP_GATEWAY,timeout:E.DEFAULT_TIMEOUT,headers:E.DEFAULT_HEADERS,retryAttempts:t?1:E.RETRY_ATTEMPTS,enableLogging:t,validateStatus:t=>t>=200&&t<300}},d=(t,e)=>`${t.replace(/\/$/,"")}${e}`,T=t=>d(c.MCP_GATEWAY,t),_=t=>d(c.SMART_AGENTS,t);e["default"]={API_BASE_URLS:c,MCP_ENDPOINTS:i,SMART_AGENTS_ENDPOINTS:n,API_CONFIG:E,getApiConfig:S,buildUrl:d,getMcpUrl:T,getSmartAgentsUrl:_}}}]);
//# sourceMappingURL=suseai-rancher-ext-0.1.0.umd.min.83.js.map